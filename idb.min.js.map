{"version":3,"sources":["idb.js"],"names":["toArray","arr","Array","prototype","slice","call","promisifyRequest","request","Promise","resolve","reject","onsuccess","result","onerror","error","promisifyRequestCall","obj","method","args","p","apply","then","promisifyCursorRequestCall","value","Cursor","proxyProperties","ProxyClass","targetProp","properties","forEach","prop","Object","defineProperty","get","this","proxyRequestMethods","Constructor","arguments","proxyMethods","proxyCursorRequestMethods","Index","index","_index","cursor","_cursor","_request","ObjectStore","store","_store","Transaction","idbTransaction","_tx","complete","oncomplete","UpgradeDB","db","oldVersion","transaction","_db","DB","IDBIndex","IDBCursor","methodName","createIndex","IDBObjectStore","objectStore","IDBTransaction","createObjectStore","IDBDatabase","funcName","replace","callback","length","getAll","query","count","instance","items","iterateCursor","push","undefined","continue","exp","open","name","version","upgradeCallback","indexedDB","onupgradeneeded","event","delete","module","exports","self","idb"],"mappings":"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"}